# PM-SRM ä¾›æ‡‰å•†é—œä¿‚ç®¡ç† (Supplier Relationship Management) PRD

## æ–‡ä»¶è³‡è¨Š
- **ç‰ˆæœ¬**: v1.0.0  
- **æœ€å¾Œæ›´æ–°**: 2025-08-25
- **ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
- **è² è²¬äºº**: å¾…æŒ‡æ´¾
- **ç›¸é—œæ¨¡çµ„**: PM-CPM (åˆç´„ç®¡ç†), PM-PODM (æ¡è³¼å–®ç®¡ç†), FA (è²¡å‹™æœƒè¨ˆ), QM (å“è³ªç®¡ç†)

## 1. åŠŸèƒ½æ¦‚è¿°

### 1.1 ç›®çš„
å»ºç«‹å®Œæ•´çš„ä¾›æ‡‰å•†ç”Ÿå‘½é€±æœŸç®¡ç†ç³»çµ±ï¼Œå¾ä¾›æ‡‰å•†å¼•å…¥ã€è©•ä¼°ã€åˆä½œåˆ°ç¸¾æ•ˆç®¡ç†ï¼Œå„ªåŒ–ä¾›æ‡‰éˆæ•ˆç‡ï¼Œé™ä½æ¡è³¼æˆæœ¬ï¼Œç¢ºä¿ä¾›æ‡‰ç©©å®šæ€§ã€‚

### 1.2 ç¯„åœ
- ä¾›æ‡‰å•†ä¸»æª”ç®¡ç†
- ä¾›æ‡‰å•†è©•ä¼°èˆ‡èªè­‰
- ç¸¾æ•ˆç›£æ§èˆ‡è©•åˆ†
- ä¾›æ‡‰å•†åˆ†ç´šç®¡ç†
- é¢¨éšªè©•ä¼°èˆ‡ç®¡ç†

### 1.3 é—œéµåƒ¹å€¼
- æ¡è³¼æˆæœ¬é™ä½ 15%
- ä¾›æ‡‰å•†äº¤æœŸæº–ç¢ºç‡æå‡è‡³ 95%
- ä¾›æ‡‰éˆé¢¨éšªé™ä½ 40%
- ä¾›æ‡‰å•†ç®¡ç†æ•ˆç‡æå‡ 60%

## 2. åŠŸèƒ½æ€§éœ€æ±‚

### FR-PM-SRM-SMO-001: ä¾›æ‡‰å•†ç¸½è¦½ç®¡ç†
**ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
**å„ªå…ˆç´š**: P0

#### éœ€æ±‚æè¿°
- **æ¢ä»¶/è§¸ç™¼**: é€²å…¥ä¾›æ‡‰å•†ç®¡ç†ä¸»é 
- **è¡Œç‚º**: å±•ç¤ºä¾›æ‡‰å•†å…¨æ™¯è¦–åœ–èˆ‡é—œéµæŒ‡æ¨™
- **è³‡æ–™è¼¸å…¥**: 
  - ä¾›æ‡‰å•†é¡åˆ¥ç¯©é¸
  - æ™‚é–“ç¯„åœé¸æ“‡
  - ç¸¾æ•ˆæŒ‡æ¨™é¸æ“‡
  - é¢¨éšªç­‰ç´šéæ¿¾
  - èªè­‰ç‹€æ…‹ç¯©é¸
- **è³‡æ–™è¼¸å‡º**: 
  - ä¾›æ‡‰å•†çµ±è¨ˆç¸½è¦½
  - ç¸¾æ•ˆæ’è¡Œæ¦œ
  - é¢¨éšªåˆ†å¸ƒåœ–
  - æ¡è³¼é‡‘é¡åˆ†æ
  - å•é¡Œä¾›æ‡‰å•†æ¸…å–®
- **UIåæ‡‰**: 
  - å„€è¡¨æ¿å³æ™‚æ›´æ–°
  - äº’å‹•å¼åœ–è¡¨
  - ä¸‹é‘½å¼åˆ†æ
  - å¿«é€Ÿæ“ä½œå…¥å£
  - ç•°å¸¸é«˜äº®é¡¯ç¤º
- **ä¾‹å¤–è™•ç†**: 
  - è³‡æ–™è¼‰å…¥å¤±æ•—é‡è©¦
  - ç•°å¸¸æ•¸æ“šæ¨™è¨˜
  - æ¬Šé™ä¸è¶³æç¤º
  - å¿«å–æ©Ÿåˆ¶

#### é©—æ”¶æ¨™æº–
```yaml
- æ¢ä»¶: è¼‰å…¥ä¾›æ‡‰å•†ç¸½è¦½é é¢
  é æœŸçµæœ: 2ç§’å…§é¡¯ç¤ºå®Œæ•´å„€è¡¨æ¿

- æ¢ä»¶: ç¯©é¸é«˜é¢¨éšªä¾›æ‡‰å•†
  é æœŸçµæœ: å³æ™‚é¡¯ç¤ºé¢¨éšªä¾›æ‡‰å•†æ¸…å–®èˆ‡è©³æƒ…

- æ¢ä»¶: æŸ¥çœ‹ç¸¾æ•ˆè¶¨å‹¢
  é æœŸçµæœ: é¡¯ç¤º6å€‹æœˆç¸¾æ•ˆè®ŠåŒ–è¶¨å‹¢åœ–
```

#### Traceability
- **æ¸¬è©¦æ¡ˆä¾‹**: tests/unit/FR-PM-SRM-SMO-001.test.ts
- **å¯¦ä½œç¨‹å¼**: src/modules/pm/services/supplierOverview.service.ts
- **ç›¸é—œæ–‡ä»¶**: TOC Modules.md - Section 9.1.1

### FR-PM-SRM-SL-002: ä¾›æ‡‰å•†æ¸…å–®ç®¡ç†
**ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
**å„ªå…ˆç´š**: P0

#### éœ€æ±‚æè¿°
- **æ¢ä»¶/è§¸ç™¼**: ç®¡ç†ä¾›æ‡‰å•†ä¸»æª”è³‡æ–™
- **è¡Œç‚º**: å»ºç«‹ã€ç¶­è­·ã€æŸ¥è©¢ä¾›æ‡‰å•†è³‡è¨Š
- **è³‡æ–™è¼¸å…¥**: 
  - åŸºæœ¬è³‡è¨Šï¼ˆåç¨±ã€çµ±ç·¨ã€åœ°å€ï¼‰
  - è¯çµ¡è³‡è¨Šï¼ˆè¯çµ¡äººã€é›»è©±ã€Emailï¼‰
  - å•†æ¥­è³‡è¨Šï¼ˆè³‡æœ¬é¡ã€å“¡å·¥æ•¸ã€ç”¢èƒ½ï¼‰
  - èªè­‰è³‡è¨Šï¼ˆISOã€è­‰æ›¸ã€æœ‰æ•ˆæœŸï¼‰
  - éŠ€è¡Œè³‡è¨Šï¼ˆå¸³æˆ¶ã€ä»˜æ¬¾æ¢ä»¶ï¼‰
- **è³‡æ–™è¼¸å‡º**: 
  - ä¾›æ‡‰å•†ç·¨è™Ÿ
  - å®Œæ•´ä¾›æ‡‰å•†æª”æ¡ˆ
  - æ­·å²äº¤æ˜“è¨˜éŒ„
  - è©•ä¼°å ±å‘Š
  - é¢¨éšªè©•ç´š
- **UIåæ‡‰**: 
  - åˆ†é åˆ—è¡¨é¡¯ç¤º
  - é€²éšæœå°‹åŠŸèƒ½
  - æ‰¹é‡æ“ä½œæ”¯æ´
  - åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½
  - è©³æƒ…å¿«é€Ÿé è¦½
- **ä¾‹å¤–è™•ç†**: 
  - é‡è¤‡ä¾›æ‡‰å•†æª¢æŸ¥
  - å¿…å¡«æ¬„ä½é©—è­‰
  - çµ±ç·¨é©—è­‰
  - è³‡æ–™å®Œæ•´æ€§æª¢æŸ¥

#### ä¾›æ‡‰å•†è³‡æ–™çµæ§‹
```typescript
interface Supplier {
  id: string;
  code: string;
  
  // åŸºæœ¬è³‡è¨Š
  basicInfo: {
    name: string;
    englishName?: string;
    taxId: string;
    registrationNo?: string;
    establishedDate?: Date;
    capital?: number;
    employeeCount?: number;
    website?: string;
  };
  
  // åœ°å€è³‡è¨Š
  addresses: {
    type: 'registered' | 'business' | 'shipping';
    country: string;
    city: string;
    district: string;
    street: string;
    postalCode: string;
    isDefault: boolean;
  }[];
  
  // è¯çµ¡äººè³‡è¨Š
  contacts: {
    name: string;
    title: string;
    department: string;
    phone: string;
    mobile: string;
    email: string;
    isPrimary: boolean;
  }[];
  
  // å•†æ¥­æ¢ä»¶
  businessTerms: {
    currency: string;
    paymentTerms: string;
    creditLimit: number;
    leadTime: number;
    moq?: number;
    incoterms?: string;
  };
  
  // åˆ†é¡èˆ‡æ¨™ç±¤
  classification: {
    type: 'manufacturer' | 'trader' | 'service' | 'logistics';
    categories: string[];
    tags: string[];
    tier: 'strategic' | 'preferred' | 'approved' | 'conditional';
  };
  
  // èªè­‰è³‡è¨Š
  certifications: {
    type: string;
    number: string;
    issuedBy: string;
    issuedDate: Date;
    expiryDate: Date;
    document?: string;
  }[];
  
  // è©•ä¼°è³‡è¨Š
  evaluation: {
    score: number;
    grade: 'A' | 'B' | 'C' | 'D';
    lastEvaluated: Date;
    nextEvaluation: Date;
    riskLevel: 'low' | 'medium' | 'high';
  };
  
  status: 'active' | 'inactive' | 'blacklisted' | 'pending';
  createdAt: Date;
  updatedAt: Date;
}
```

### FR-PM-SRM-LMR-003: æè€—ç®¡ç†èˆ‡é€€è²¨
**ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
**å„ªå…ˆç´š**: P1

#### éœ€æ±‚æè¿°
- **æ¢ä»¶/è§¸ç™¼**: ç™¼ç”Ÿæ¡è³¼æè€—æˆ–éœ€è¦é€€è²¨æ™‚
- **è¡Œç‚º**: è¨˜éŒ„æè€—ã€è™•ç†é€€è²¨ã€åˆ†æåŸå› 
- **è³‡æ–™è¼¸å…¥**: 
  - æè€—é¡å‹èˆ‡æ•¸é‡
  - é€€è²¨åŸå› èˆ‡æ‰¹è™Ÿ
  - è²¬ä»»æ­¸å±¬
  - è™•ç†æ–¹å¼
  - è³ å„Ÿè¦æ±‚
- **è³‡æ–™è¼¸å‡º**: 
  - æè€—çµ±è¨ˆå ±è¡¨
  - é€€è²¨è™•ç†å–®
  - ä¾›æ‡‰å•†æ‰£æ¬¾å–®
  - æ”¹å–„è¿½è¹¤è¡¨
  - æè€—è¶¨å‹¢åˆ†æ
- **UIåæ‡‰**: 
  - å¿«é€Ÿç™»è¨˜ä»‹é¢
  - ç…§ç‰‡ä¸Šå‚³åŠŸèƒ½
  - å¯©æ‰¹æµç¨‹é¡¯ç¤º
  - çµ±è¨ˆåœ–è¡¨
  - é è­¦æé†’
- **ä¾‹å¤–è™•ç†**: 
  - è¶…æ¨™è‡ªå‹•é è­¦
  - è²¬ä»»çˆ­è­°è™•ç†
  - è­‰æ“šä¿å…¨
  - å‡ç´šæ©Ÿåˆ¶

### FR-PM-SRM-SA-004: ä¾›æ‡‰å•†å¸³å‹™ç®¡ç†
**ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
**å„ªå…ˆç´š**: P1

#### éœ€æ±‚æè¿°
- **æ¢ä»¶/è§¸ç™¼**: è™•ç†ä¾›æ‡‰å•†ç›¸é—œè²¡å‹™äº‹é …
- **è¡Œç‚º**: ç®¡ç†æ‡‰ä»˜å¸³æ¬¾ã€å°å¸³ã€ä»˜æ¬¾
- **è³‡æ–™è¼¸å…¥**: 
  - æ¡è³¼ç™¼ç¥¨
  - ä»˜æ¬¾ç”³è«‹
  - å°å¸³å–®
  - æ‰£æ¬¾é …ç›®
  - é ä»˜æ¬¾
- **è³‡æ–™è¼¸å‡º**: 
  - æ‡‰ä»˜å¸³æ¬¾æ˜ç´°
  - ä»˜æ¬¾æ’ç¨‹
  - å°å¸³å·®ç•°å ±å‘Š
  - å¸³é½¡åˆ†æ
  - ç¾é‡‘æµé æ¸¬
- **UIåæ‡‰**: 
  - å¸³å‹™å„€è¡¨æ¿
  - ä»˜æ¬¾æ—¥æ›†
  - å°å¸³å·¥ä½œå°
  - ç•°å¸¸æé†’
  - æ‰¹æ¬¡è™•ç†
- **ä¾‹å¤–è™•ç†**: 
  - ç™¼ç¥¨ç•°å¸¸è™•ç†
  - è¶…é¡ä»˜æ¬¾æ§åˆ¶
  - é‡è¤‡ä»˜æ¬¾æª¢æŸ¥
  - åŒ¯ç‡å·®ç•°è™•ç†

### FR-PM-SRM-RS-005: å¯©æ ¸èˆ‡è©•åˆ†
**ç‹€æ…‹**: ğŸ”´ æœªé–‹å§‹
**å„ªå…ˆç´š**: P2

#### éœ€æ±‚æè¿°
- **æ¢ä»¶/è§¸ç™¼**: å®šæœŸè©•ä¼°æˆ–ç‰¹æ®Šäº‹ä»¶è§¸ç™¼
- **è¡Œç‚º**: åŸ·è¡Œä¾›æ‡‰å•†ç¸¾æ•ˆè©•ä¼°èˆ‡è©•åˆ†
- **è³‡æ–™è¼¸å…¥**: 
  - è©•ä¼°ç¶­åº¦è¨­å®š
  - è©•åˆ†æ¨™æº–
  - å¯¦éš›ç¸¾æ•ˆæ•¸æ“š
  - å•é¡Œè¨˜éŒ„
  - æ”¹å–„è¨ˆåŠƒ
- **è³‡æ–™è¼¸å‡º**: 
  - è©•ä¼°å ±å‘Š
  - ç¸¾æ•ˆåˆ†æ•¸
  - ç­‰ç´šè©•å®š
  - æ”¹å–„å»ºè­°
  - çæ‡²æ±ºå®š
- **UIåæ‡‰**: 
  - è©•ä¼°è¡¨å–®
  - è©•åˆ†å¡
  - é›·é”åœ–åˆ†æ
  - æ­·å²å°æ¯”
  - å¯©æ‰¹æµç¨‹
- **ä¾‹å¤–è™•ç†**: 
  - è©•åˆ†çˆ­è­°è™•ç†
  - è¤‡è©•æ©Ÿåˆ¶
  - ç”³è¨´æµç¨‹
  - ç¬¬ä¸‰æ–¹å¯©æ ¸

#### è©•ä¼°æŒ‡æ¨™é«”ç³»
```typescript
interface SupplierEvaluation {
  id: string;
  supplierId: string;
  period: {
    start: Date;
    end: Date;
  };
  
  // è©•ä¼°ç¶­åº¦
  dimensions: {
    // å“è³ªç¶­åº¦ (30%)
    quality: {
      weight: 0.3;
      metrics: {
        defectRate: number;      // ä¸è‰¯ç‡
        returnRate: number;      // é€€è²¨ç‡
        certCompliance: number;  // èªè­‰ç¬¦åˆåº¦
        improvement: number;     // å“è³ªæ”¹å–„
      };
      score: number;
    };
    
    // äº¤æœŸç¶­åº¦ (25%)
    delivery: {
      weight: 0.25;
      metrics: {
        onTimeRate: number;      // æº–æ™‚äº¤è²¨ç‡
        flexibilityRate: number; // å½ˆæ€§éŸ¿æ‡‰ç‡
        leadTimeStability: number; // äº¤æœŸç©©å®šæ€§
        urgentResponse: number;  // ç·Šæ€¥éŸ¿æ‡‰
      };
      score: number;
    };
    
    // æˆæœ¬ç¶­åº¦ (20%)
    cost: {
      weight: 0.2;
      metrics: {
        priceCompetitiveness: number; // åƒ¹æ ¼ç«¶çˆ­åŠ›
        costReduction: number;   // æˆæœ¬é™ä½
        paymentTerms: number;    // ä»˜æ¬¾æ¢ä»¶
        valueAdded: number;      // é™„åŠ åƒ¹å€¼
      };
      score: number;
    };
    
    // æœå‹™ç¶­åº¦ (15%)
    service: {
      weight: 0.15;
      metrics: {
        responseTime: number;    // éŸ¿æ‡‰æ™‚é–“
        technicalSupport: number; // æŠ€è¡“æ”¯æ´
        communication: number;   // æºé€šæ•ˆç‡
        problemSolving: number;  // å•é¡Œè§£æ±º
      };
      score: number;
    };
    
    // å‰µæ–°ç¶­åº¦ (10%)
    innovation: {
      weight: 0.1;
      metrics: {
        newProducts: number;     // æ–°ç”¢å“é–‹ç™¼
        processImprovement: number; // æµç¨‹æ”¹å–„
        sustainability: number;  // æ°¸çºŒç™¼å±•
        digitalization: number;  // æ•¸ä½åŒ–ç¨‹åº¦
      };
      score: number;
    };
  };
  
  // ç¸½é«”è©•åˆ†
  overall: {
    score: number;           // åŠ æ¬Šç¸½åˆ†
    grade: 'A' | 'B' | 'C' | 'D' | 'F';
    ranking: number;         // æ’å
    trend: 'up' | 'stable' | 'down';
  };
  
  // å•é¡Œèˆ‡æ”¹å–„
  issues: {
    description: string;
    severity: 'critical' | 'major' | 'minor';
    deadline: Date;
    status: 'open' | 'in_progress' | 'closed';
  }[];
  
  // æ±ºç­–å»ºè­°
  recommendations: {
    action: 'maintain' | 'develop' | 'improve' | 'replace';
    reasons: string[];
    plans: string[];
  };
  
  evaluatedBy: string;
  evaluatedAt: Date;
  approvedBy?: string;
  approvedAt?: Date;
}
```

## 3. éåŠŸèƒ½æ€§éœ€æ±‚

### 3.1 æ•ˆèƒ½éœ€æ±‚
- ä¾›æ‡‰å•†æœå°‹ < 1ç§’
- è©•ä¼°å ±å‘Šç”Ÿæˆ < 5ç§’
- æ”¯æ´ 10,000+ ä¾›æ‡‰å•†
- ä¸¦ç™¼ä½¿ç”¨è€… 100+

### 3.2 å®‰å…¨éœ€æ±‚
- ä¾›æ‡‰å•†è³‡æ–™åŠ å¯†
- å­˜å–æ¬Šé™æ§åˆ¶
- å¯©è¨ˆæ—¥èªŒè¨˜éŒ„
- æ•æ„Ÿè³‡è¨Šé®ç½©

### 3.3 æ•´åˆéœ€æ±‚
- ERP ç³»çµ±æ•´åˆ
- éŠ€è¡Œç³»çµ±ä»‹æ¥
- ä¿¡ç”¨æŸ¥è©¢æœå‹™
- é›»å­ç™¼ç¥¨å¹³å°

## 4. ç³»çµ±è¨­è¨ˆ

### 4.1 è³‡æ–™æ¨¡å‹

```typescript
// ä¾›æ‡‰å•†äº¤æ˜“è¨˜éŒ„
interface SupplierTransaction {
  id: string;
  supplierId: string;
  
  // äº¤æ˜“è³‡è¨Š
  transaction: {
    type: 'purchase' | 'return' | 'payment';
    referenceNo: string;
    date: Date;
    amount: number;
    currency: string;
  };
  
  // æ¡è³¼è³‡è¨Š
  purchase?: {
    poNumber: string;
    items: {
      itemCode: string;
      itemName: string;
      quantity: number;
      unitPrice: number;
      amount: number;
    }[];
    deliveryDate: Date;
    actualDelivery?: Date;
  };
  
  // å“è³ªè¨˜éŒ„
  quality?: {
    inspectionDate: Date;
    passRate: number;
    defects: {
      type: string;
      quantity: number;
    }[];
  };
  
  // ä»˜æ¬¾è¨˜éŒ„
  payment?: {
    invoiceNo: string;
    dueDate: Date;
    paidDate?: Date;
    method: string;
    discount?: number;
  };
  
  status: 'pending' | 'completed' | 'cancelled';
  createdAt: Date;
}

// ä¾›æ‡‰å•†é¢¨éšªè©•ä¼°
interface SupplierRisk {
  id: string;
  supplierId: string;
  
  // é¢¨éšªé¡åˆ¥
  risks: {
    // è²¡å‹™é¢¨éšª
    financial: {
      creditRating: string;
      debtRatio: number;
      cashFlow: 'positive' | 'negative';
      bankruptcyRisk: number;
    };
    
    // ç‡Ÿé‹é¢¨éšª
    operational: {
      dependencyLevel: number;
      alternativeSuppliers: number;
      capacityUtilization: number;
      disruptionHistory: number;
    };
    
    // åˆè¦é¢¨éšª
    compliance: {
      certificationStatus: 'valid' | 'expiring' | 'expired';
      regulatoryIssues: number;
      auditFindings: number;
      ethicalConcerns: boolean;
    };
    
    // åœ°ç·£é¢¨éšª
    geographical: {
      politicalStability: number;
      naturalDisasterRisk: number;
      logisticsReliability: number;
      tradeRestrictions: boolean;
    };
  };
  
  // æ•´é«”é¢¨éšªè©•ç´š
  overall: {
    level: 'low' | 'medium' | 'high' | 'critical';
    score: number;
    trend: 'improving' | 'stable' | 'worsening';
  };
  
  // ç·©è§£æªæ–½
  mitigation: {
    strategy: string;
    actions: string[];
    contingencyPlan: string;
    responsiblePerson: string;
  };
  
  assessedAt: Date;
  nextAssessment: Date;
}

// ä¾›æ‡‰å•†åˆä½œå”è­°
interface SupplierAgreement {
  id: string;
  supplierId: string;
  
  // å”è­°è³‡è¨Š
  agreement: {
    type: 'purchase' | 'framework' | 'consignment' | 'vmi';
    number: string;
    title: string;
    startDate: Date;
    endDate: Date;
    autoRenew: boolean;
  };
  
  // å•†æ¥­æ¢æ¬¾
  terms: {
    minimumOrder: number;
    maximumOrder?: number;
    annualVolume?: number;
    priceValidity: number;
    priceAdjustment: string;
  };
  
  // æœå‹™ç­‰ç´šå”è­°
  sla: {
    deliveryTime: number;
    qualityStandard: string;
    defectRate: number;
    responseTime: number;
    penalties: {
      condition: string;
      penalty: string;
    }[];
  };
  
  // ç‰¹æ®Šæ¢æ¬¾
  special: {
    exclusivity?: boolean;
    confidentiality: boolean;
    intellectualProperty?: string;
    forceMajeure: string;
  };
  
  status: 'draft' | 'active' | 'expired' | 'terminated';
  signedBy: {
    supplier: string;
    company: string;
  };
  signedAt: Date;
}
```

### 4.2 API è¨­è¨ˆ

```typescript
// ä¾›æ‡‰å•†ç®¡ç† API
interface SupplierManagementAPI {
  // ä¾›æ‡‰å•†ä¸»æª”
  POST   /api/pm/suppliers                       // å»ºç«‹ä¾›æ‡‰å•†
  GET    /api/pm/suppliers                       // æŸ¥è©¢ä¾›æ‡‰å•†åˆ—è¡¨
  GET    /api/pm/suppliers/:id                   // å–å¾—ä¾›æ‡‰å•†è©³æƒ…
  PUT    /api/pm/suppliers/:id                   // æ›´æ–°ä¾›æ‡‰å•†è³‡è¨Š
  DELETE /api/pm/suppliers/:id                   // åœç”¨ä¾›æ‡‰å•†
  
  // ä¾›æ‡‰å•†è©•ä¼°
  POST   /api/pm/suppliers/:id/evaluate          // åŸ·è¡Œè©•ä¼°
  GET    /api/pm/suppliers/:id/evaluations       // æŸ¥è©¢è©•ä¼°æ­·å²
  POST   /api/pm/suppliers/:id/score             // æ›´æ–°è©•åˆ†
  
  // é¢¨éšªç®¡ç†
  GET    /api/pm/suppliers/:id/risk              // æŸ¥è©¢é¢¨éšªè©•ä¼°
  POST   /api/pm/suppliers/:id/risk/assess       // åŸ·è¡Œé¢¨éšªè©•ä¼°
  PUT    /api/pm/suppliers/:id/risk/mitigate     // æ›´æ–°ç·©è§£æªæ–½
}

// æè€—èˆ‡é€€è²¨ API
interface LossAndReturnAPI {
  // æè€—ç®¡ç†
  POST   /api/pm/losses                          // ç™»è¨˜æè€—
  GET    /api/pm/losses                          // æŸ¥è©¢æè€—è¨˜éŒ„
  POST   /api/pm/losses/:id/claim                // æå‡ºç´¢è³ 
  
  // é€€è²¨è™•ç†
  POST   /api/pm/returns                         // å»ºç«‹é€€è²¨å–®
  GET    /api/pm/returns/:id                     // æŸ¥è©¢é€€è²¨è©³æƒ…
  PUT    /api/pm/returns/:id/process             // è™•ç†é€€è²¨
}

// ä¾›æ‡‰å•†å¸³å‹™ API
interface SupplierAccountingAPI {
  // æ‡‰ä»˜å¸³æ¬¾
  GET    /api/pm/payables                        // æŸ¥è©¢æ‡‰ä»˜å¸³æ¬¾
  POST   /api/pm/payables/reconcile              // å°å¸³ä½œæ¥­
  POST   /api/pm/payables/pay                    // åŸ·è¡Œä»˜æ¬¾
  
  // å¸³å‹™åˆ†æ
  GET    /api/pm/accounting/aging                // å¸³é½¡åˆ†æ
  GET    /api/pm/accounting/forecast             // ç¾é‡‘æµé æ¸¬
  GET    /api/pm/accounting/statement/:supplierId // ä¾›æ‡‰å•†å°å¸³å–®
}

// WebSocket äº‹ä»¶
interface SupplierWebSocketEvents {
  // ä¾›æ‡‰å•†äº‹ä»¶
  'supplier:created': (supplier: Supplier) => void;
  'supplier:updated': (supplier: Supplier) => void;
  'supplier:risk-changed': (risk: any) => void;
  
  // è©•ä¼°äº‹ä»¶
  'evaluation:completed': (evaluation: any) => void;
  'evaluation:approved': (evaluation: any) => void;
  
  // ç•°å¸¸äº‹ä»¶
  'quality:issue': (issue: any) => void;
  'delivery:delayed': (delay: any) => void;
  'payment:overdue': (payment: any) => void;
}
```

## 5. æ•´åˆéœ€æ±‚

### 5.1 å…§éƒ¨ç³»çµ±æ•´åˆ
- **PM-PODM**: æ¡è³¼å–®é€£å‹•
- **PM-CPM**: åˆç´„ç®¡ç†
- **WMS**: æ”¶è²¨å“è³ª
- **FA**: è²¡å‹™ä»˜æ¬¾
- **QM**: å“è³ªæª¢é©—

### 5.2 å¤–éƒ¨ç³»çµ±æ•´åˆ
- **éŠ€è¡Œç³»çµ±**: ä»˜æ¬¾ä»‹æ¥
- **ä¿¡ç”¨æ©Ÿæ§‹**: ä¿¡ç”¨æŸ¥è©¢
- **æ”¿åºœå¹³å°**: è³‡æ ¼æŸ¥é©—
- **ç”¢æ¥­è³‡æ–™åº«**: å¸‚å ´è³‡è¨Š

## 6. æ¸¬è©¦éœ€æ±‚

### 6.1 åŠŸèƒ½æ¸¬è©¦
- ä¾›æ‡‰å•†å»ºæª”æµç¨‹
- è©•ä¼°è¨ˆç®—æ­£ç¢ºæ€§
- é¢¨éšªè©•ç´šæº–ç¢ºæ€§
- å¸³å‹™å°å¸³ä¸€è‡´æ€§

### 6.2 æ•ˆèƒ½æ¸¬è©¦
- 10,000 ä¾›æ‡‰å•†æŸ¥è©¢
- æ‰¹é‡è©•ä¼°ä½œæ¥­
- å¤§é‡äº¤æ˜“è™•ç†
- å ±è¡¨ç”Ÿæˆé€Ÿåº¦

### 6.3 æ•´åˆæ¸¬è©¦
- æ¡è³¼æµç¨‹æ•´åˆ
- ä»˜æ¬¾æµç¨‹æ•´åˆ
- å“è³ªè³‡æ–™åŒæ­¥
- é¢¨éšªé è­¦æ©Ÿåˆ¶

## 7. å¯¦æ–½è¨ˆåŠƒ

### 7.1 é–‹ç™¼éšæ®µ
1. **Phase 1** (Week 1-2): ä¾›æ‡‰å•†ä¸»æª”ç®¡ç†
2. **Phase 2** (Week 3-4): è©•ä¼°èˆ‡è©•åˆ†ç³»çµ±
3. **Phase 3** (Week 5-6): é¢¨éšªç®¡ç†åŠŸèƒ½
4. **Phase 4** (Week 7): å¸³å‹™ç®¡ç†æ•´åˆ
5. **Phase 5** (Week 8): ç³»çµ±æ¸¬è©¦èˆ‡å„ªåŒ–

### 7.2 é—œéµé‡Œç¨‹ç¢‘
- M1: ä¾›æ‡‰å•†ä¸»æª”å®Œæˆ
- M2: è©•ä¼°ç³»çµ±ä¸Šç·š
- M3: é¢¨éšªç®¡ç†å•Ÿç”¨
- M4: å¸³å‹™æ•´åˆå®Œæˆ
- M5: å…¨é¢é‹è¡Œ

## 8. é¢¨éšªè©•ä¼°

| é¢¨éšªé …ç›® | å½±éŸ¿ | æ©Ÿç‡ | ç·©è§£æªæ–½ |
|---------|------|------|----------|
| è³‡æ–™ç§»è½‰è¤‡é›œ | é«˜ | é«˜ | åˆ†éšæ®µç§»è½‰ï¼Œä¿ç•™èˆŠç³»çµ± |
| è©•ä¼°æ¨™æº–çˆ­è­° | ä¸­ | ä¸­ | å»ºç«‹è©•ä¼°å§”å“¡æœƒ |
| ç³»çµ±æ•´åˆå›°é›£ | é«˜ | ä¸­ | æ¡ç”¨æ¨™æº–APIä»‹é¢ |
| ä½¿ç”¨è€…æŠ—æ‹’ | ä¸­ | ä½ | åŠ å¼·åŸ¹è¨“èˆ‡æºé€š |

## 9. æˆåŠŸæŒ‡æ¨™

### 9.1 æ¥­å‹™æŒ‡æ¨™
- æ¡è³¼æˆæœ¬é™ä½ â‰¥ 15%
- äº¤æœŸæº–ç¢ºç‡ â‰¥ 95%
- ä¾›æ‡‰å•†æ»¿æ„åº¦ â‰¥ 85%
- é¢¨éšªäº‹ä»¶æ¸›å°‘ â‰¥ 40%

### 9.2 ç³»çµ±æŒ‡æ¨™
- ç³»çµ±å¯ç”¨æ€§ â‰¥ 99.5%
- æŸ¥è©¢éŸ¿æ‡‰æ™‚é–“ < 1ç§’
- è³‡æ–™æº–ç¢ºæ€§ â‰¥ 99.9%
- ä½¿ç”¨è€…æ¡ç”¨ç‡ â‰¥ 90%

## 10. ç›¸é—œæ–‡ä»¶

- [PM ç¸½é«”æ¶æ§‹](../README.md)
- [åˆç´„ç®¡ç† PRD](../09.2-PM-CPM-Contract_Pricing_Management/prd.md)
- [æ¡è³¼å–®ç®¡ç† PRD](../09.3-PM-PODM-Purchase_Order_Delivery_Management/prd.md)
- [ä¾›æ‡‰å•†ç®¡ç†æœ€ä½³å¯¦è¸](../../docs/best-practices/supplier-management.md)

## 11. è®Šæ›´è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0.0 | 2025-08-25 | åˆå§‹ç‰ˆæœ¬ | ERP Team |

---

**æ–‡ä»¶ç‹€æ…‹**: æœªé–‹å§‹
**ä¸‹æ¬¡å¯©æŸ¥**: 2025-09-01
**è¯çµ¡äºº**: pm@tsaitung.com